<!DOCTYPE html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home | Diabetes Predictor</title>
    <link
    rel="shortcut icon"
      href="../static/images/icon.png"
      type="image/x-icon"
      />
      <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined&display=swap"
    />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous">

      <link rel="stylesheet" href="../static/css/style.css" />
      <link rel="stylesheet" href="../static/css/dark-mode.css" />
  </head>
  <body>
      <nav class="navbar navbar-expand-lg bg-transparent shadow-sm">
        <div class="container-fluid">

          <a class="navbar-brand d-flex align-items-center gap-2" href="#">
              <div class="pk-logo">
                <img src="../static/images/icon.png" alt="Logo" />
              </div>
              <h1 style="margin: 0">Kingsley and Ossai</h1>
          </a>

          <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                  data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                  aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
            <ul class="navbar-nav align-items-center gap-3">

              <li class="nav-item">
                <button
                  type="button"
                  id="simulate-btn"
                  class="btn bg-white border d-flex align-items-center gap-1 simulate-btn"
                  style="cursor:pointer;"
                >
                  <span style="color:#111">Simulate</span>
                  <span class="material-symbols-outlined" style="font-size:22px; color:#111;">casino</span>
                </button>
              </li>

              <li>
            <a href="/about" class="about-btn-link" >
              <button class="about-btn"  >
                About
              </button>
          </a>
          </li>

              <li class="nav-item">
                <button type="button" id="theme-toggle" class="btn d-flex align-items-center gap-1 theme-btn"
                        style="background:none; border:none; padding:6px; border-radius:8px; cursor:pointer;">
                  <span class="material-symbols-outlined" style="font-size:22px;">dark_mode</span>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <main>
    <h1>Diabetes Predictor</h1>

    <div class="two-column">
      <div class="form-box">
        <form id="prediction-form" method="post" action="/predict">
          <h3>Medical Information</h3>
          <div class="form-grid">
            <div class="form-group">
              <label for="Age">Age: <span class="clinical-range">(10-100)</span> </label>
              <input type="number" name="Age" required />
            </div>
            <div class="form-group">
              <label for="BMI">BMI: <span class="clinical-range">(10-60)</span> </label>
              <input type="number" step="0.1" name="BMI" required />
            </div>
            <div class="form-group">
              <label for="Blood Glucose">Blood Glucose: <span class="clinical-range">(50-800)</span></label>
              <input type="number" name="Blood Glucose" required />
            </div>
            <div class="form-group">
              <label for="Blood Pressure">Blood Pressure: <span class="clinical-range">(80-200) </label>
              <input type="number" name="Blood Pressure" required />
            </div>
            <div class="form-group">
              <label for="HbA1c">HbA1c: <span class="clinical-range">(4.0-14.0) </label>
              <input type="number" step="0.1" name="HbA1c" required />
            </div>
            <div class="form-group">
              <label for="Insulin Level">Insulin Level: <span class="clinical-range">(2-300) </label>
              <input type="number" name="Insulin Level" required />
            </div>
            <div class="form-group">
              <label for="Skin thickness">Skin thickness: <span class="clinical-range">(7-100) </label>
              <input type="number" name="Skin thickness" required />
            </div>
            <div class="form-group">
              <label for="Pregnancies"
                >Pregnancies: <span class="clinical-range">(0–17)</span></label
              >
              <input
                type="number"
                name="Pregnancies"
                id="Pregnancies"
                min="0"
                max="17"
              />
              <span class="error-message" id="error-Pregnancies"></span>
            </div>
            <div class="form-group">
              <label for="Family history"
                >Family History:
                <span class="clinical-range">(Yes/No)</span></label
              >
              <select name="Family history" id="Family-history">
                <option value="">Select</option>
                <option value="0">No</option>
                <option value="1">Yes</option>
              </select>
              <span class="error-message" id="error-Family-history"></span>
            </div>
            <div class="form-group">
              <label for="Physical Activity"
                >Physical Activity:
                <span class="clinical-range">(Low/Medium/High)</span></label
              >
              <select name="Physical Activity" id="Physical-Activity">
                <option value="">Select</option>
                <option value="Low">Low</option>
                <option value="Medium">Medium</option>
                <option value="High">High</option>
              </select>
              <span class="error-message" id="error-Physical-Activity"></span>
            </div>
            <div class="form-group">
              <label for="Smoking status"
                >Smoking Status:
                <span class="clinical-range">(Smoker/Non-Smoker)</span></label
              >
              <select name="Smoking status" id="Smoking-status">
                <option value="">Select</option>
                <option value="Smoker">Smoker</option>
                <option value="Non-Smoker">Non-Smoker</option>
              </select>
              <span class="error-message" id="error-Smoking-status"></span>
            </div>
            <div class="form-group">
              <label for="Alcohol Intake"
                >Alcohol Intake (drinks/week):
                <span class="clinical-range">(0–30)</span></label
              >
              <input
                type="number"
                name="Alcohol Intake"
                id="Alcohol-Intake"
                min="0"
                max="30"
              />
              <span class="error-message" id="error-Alcohol-Intake"></span>
            </div>
            <div class="form-group">
                <label for="Diet_Type">Diet Type:
                    <span class="clinical-range">(Select)</span>
                </label>
                <select name="Diet_Type" id="Diet_Type" required>
                    <option value="">Select</option>
                    <option value="Non-Vegetarian">Non-Vegetarian</option>
                    <option value="Vegetarian">Vegetarian</option>
                    <option value="Vegan">Vegan</option>
                </select>
                <span class="error-message" id="error-Diet_Type"></span>
            </div>
            <div class="form-group">
              <label for="Cholesterol"
                >Cholesterol (mg/dL):
                <span class="clinical-range">(100–400)</span></label
              >
              <input
                type="number"
                name="Cholesterol"
                id="Cholesterol"
                min="100"
                max="400"
              />
              <span class="error-message" id="error-Cholesterol"></span>
            </div>
            <div class="form-group">
              <label for="Triglycerides"
                >Triglycerides (mg/dL):
                <span class="clinical-range">(50–500)</span></label
              >
              <input
                type="number"
                name="Triglycerides"
                id="Triglycerides"
                min="50"
                max="500"
              />
              <span class="error-message" id="error-Triglycerides"></span>
            </div>
            <div class="form-group">
              <label for="Waist ratio"
                >Waist Ratio (cm):
                <span class="clinical-range">(60–150)</span></label
              >
              <input
                type="number"
                name="Waist ratio"
                id="Waist-ratio"
                min="60"
                max="150"
              />
              <span class="error-message" id="error-Waist-ratio"></span>
            </div>
          </div>
          <button type="submit">Predict</button>
        </form>
      </div>

      <div class="prediction-box" id="result-box">
        <h3>Prediction Result</h3>
        <p class="status" id="status-text">Awaiting result...</p>
        <div class="progress-bar">
          <span id="progress-bar-span" style="width: 0%"></span>
        </div>
        <div class="health-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-briefcase-medical-icon lucide-briefcase-medical">
            <path d="M12 11v4"/>
            <path d="M14 13h-4"/>
            <path d="M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2"/>
            <path d="M18 6v14"/>
            <path d="M6 6v14"/>
            <rect width="20" height="14" x="2" y="6" rx="2"/>
          </svg>
        </div>
        <div class="result-text-container">
          <p class="result-text" id="result-text">No prediction yet</p>
          <p class="advice-text" id="advice-text"></p>
        </div>
        <p class="instruction-text">
          Enter your medical information and click<span class="emphasis" > "Predict" </span> to see your diabetes risk assessment.
        </p>
        <button type="button" id="clear-result-btn">Clear Result</button>
      </div>
    </div>
    </main>
    <script>
      document.getElementById('prediction-form').addEventListener('submit', function(event) {
        event.preventDefault();

        const form = event.target;
        const formData = new FormData(form);

        document.getElementById('status-text').textContent = 'Predicting...';
        document.getElementById('progress-bar-span').style.width = '50%';
        document.getElementById('result-text').textContent = '';
        document.getElementById('advice-text').textContent = '';
        document.getElementById('result-box').className = 'prediction-box'; // Clear all classes

        fetch(form.action, {
          method: form.method,
          body: formData,
        })
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.json();
        })
        .then(data => {
          const resultText = document.getElementById('result-text');
          const adviceText = document.getElementById('advice-text');
          const resultBox = document.getElementById('result-box');

          resultText.textContent = data.message;
          adviceText.textContent = data.advice;

          resultBox.classList.add(data.class_name);

          document.getElementById('status-text').textContent = 'Prediction complete';
          document.getElementById('progress-bar-span').style.width = '100%';
        })
        .catch(error => {
          console.error('Error:', error);
          document.getElementById('result-text').textContent = 'An error occurred during prediction.';
          document.getElementById('advice-text').textContent = '';
          document.getElementById('status-text').textContent = 'Prediction failed';
          document.getElementById('progress-bar-span').style.width = '0%';
        });
      });
    </script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <script src="../static/js/script.js" ></script>
    <script src="../static/js/theme.js"></script>
 </body>